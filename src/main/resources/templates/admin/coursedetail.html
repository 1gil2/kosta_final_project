<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://ultraq.net.nz/thymelaf/layout"
	layout:decorate="~{/layout/layoutadmin}">
<head>
<meta charset="UTF-8">
<title>과정상세보기</title>
</head>
<body>

	<div class="pannel panel-default" layout:fragment="content1">

	<h1>과정상세보기</h1>


	<form th:action="@{/admin/courseInsert}" method="post" onSubmit="return sub()">
		<div class="form-group">
			<label for="title">과정명:</label>
			<input type="text" class="form-control" id="courseName1" name="courseName1" th:value="${#strings.substringAfter(courselist.courseName,']')}" required>
		</div>
		
<!-- 		<div class="form-group">
		<label for="content">주제:</label><br>
		 <select class="form-control" name="subjectNo" id="subjectNo">
				<option th:each="slist : ${subjectlist}" th:value="${slist.subjectNo}" th:text="${slist.subjectNo} + ' : ' + ${slist.subName}"></option>
		</select>
		</div> -->
		
		
		<label for="content">주제:</label><br>
		 <select class="form-control" name="subject" id="subjectNo">
				<option th:each="slist : ${subjectlistall}" 
				th:value="${slist.subjectNo}" 
				th:text="${slist.subName}" 
				th:selected="${subjectlist.subName==slist.subName}"></option>
		</select>
		
		
		
			<p>-----------------------------------</p>
		<div class="form-group">
			<label for="title">주제->훈련대상:</label>
			<input type="text" class="form-control" id="traineeName" name="traineeName"  readonly>
		</div>
		<p>-----------------------------------</p>



		<div class="form-group">
			<label for="writer">총훈련시간:</label> 
			<input type="number" class="form-control" id="courseTotalTrainTime" name="courseTotalTrainTime" th:value="${courselist.courseTotalTrainTime}">
		</div>
		
		<div class="form-group">
			<label for="writer">훈련일수:</label> 
			<input type="number" class="form-control" id="courseTotalDay" name="courseTotalDay" th:value="${courselist.courseTotalDay}">
		</div>
	
	
		<div class="form-group">
			<label for="writer">과정단가:</label> 
			<input type="number" class="form-control" id="coursePrice" name="coursePrice" th:value="${courselist.coursePrice}">
		</div>
		
		<div class="form-group">
			<label for="writer">정원:</label> 
			<input type="number" class="form-control" id="courseCapacity" name="courseCapacity" th:value="${courselist.courseCapacity}">
		</div>
		
		<div class="form-group">
		    <label for="content">교육대상권고사항:</label>
		    <textarea class="form-control" rows="3" cols="" id="courseTarget"  name="courseTarget" th:text="${courselist.courseTarget}"></textarea>
		</div>
		
		<div class="form-group">
		    <label for="content">교육목표:</label>
		    <textarea class="form-control" rows="3" cols="" id="coursePurpose"  name="coursePurpose" th:text="${courselist.coursePurpose}"></textarea>
		</div>
		
		<div class="form-group">
		    <label for="content">교육내용:</label>
		    <textarea class="form-control" rows="3" cols="" id="courseContent"  name="courseContent" th:text="${courselist.courseContent}"></textarea>
		</div>

		
				<label for="content">수료증:</label><br>
		 <select class="form-control" name="certificate" id="certiNo">
				<option th:each="clist : ${certificatelistall}" 
				th:value="'['+${clist.certiName}+']'" 
				th:text="${clist.certiName}" 
				th:selected="${certificatelist.certiName==clist.certiName}"></option>
		</select>
		
		<INPUT TYPE="hidden" id="tranineeCourseName" name="courseName">
			
		<button type="submit" class="btn btn-success">등록하기</button>
		<button type="reset" class="btn btn-primary">Reset</button>
	</form>

<script>
function sub(){
	var a=document.getElementById('traineeName').value;
	var b=document.getElementById('courseName1').value;
	var c=a+b;
	$('#tranineeCourseName').val(c);
	document.form.submit();
	}
	
	
$(function(){
	var no1 =  $("#subjectNo").val();
	/* alert(no1); */
	
		 $.ajax({
			url:"/admin/courseInsert1",
			data:{"no":no1},
			type:"get",
			success:function(responseData){
				var traineename = responseData.trainee.traineeName;
			$("#traineeName").attr("value",'['+traineename+']');
			/* $("#temp").html(responseData); */
			/* document.getElementById("#traineeName").value = traineename;  */
				}
			});
}); 



$("#subjectNo").change(function(){
    var no1 =  $(this).val();
	/* alert(no1); */
	
		 $.ajax({
			url:"/admin/courseInsert1",
			data:{"no":no1},
			type:"get",
			success:function(responseData){
				var traineename = responseData.trainee.traineeName;
			$("#traineeName").attr("value",'['+traineename+']');
			/* $("#temp").html(responseData); */
			/* document.getElementById("#traineeName").value = traineename;  */
				}
			});

	
	
});
</script>
</div>
</body>
</html>